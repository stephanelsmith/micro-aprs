
import math
from array import array
from afsk.func import frange

def get_sin_table(size   = 1024, 
                  signed = True,
                  ampli  = 0x7fff,
                  ):
    if signed:
        # signed version [-32768,32767]
        if size == 1024 and ampli == 0x7fff:
            return array('h', [0, 201, 402, 603, 804, 1005, 1206, 1406, 1607, 1808, 2009, 2209, 2410, 2610, 2811, 3011, 3211, 3411, 3611, 3811, 4011, 4210, 4409, 4608, 4807, 5006, 5205, 5403, 5601, 5799, 5997, 6195, 6392, 6589, 6786, 6982, 7179, 7375, 7571, 7766, 7961, 8156, 8351, 8545, 8739, 8932, 9126, 9319, 9511, 9703, 9895, 10087, 10278, 10469, 10659, 10849, 11038, 11227, 11416, 11604, 11792, 11980, 12166, 12353, 12539, 12724, 12909, 13094, 13278, 13462, 13645, 13827, 14009, 14191, 14372, 14552, 14732, 14911, 15090, 15268, 15446, 15623, 15799, 15975, 16150, 16325, 16499, 16672, 16845, 17017, 17189, 17360, 17530, 17699, 17868, 18036, 18204, 18371, 18537, 18702, 18867, 19031, 19194, 19357, 19519, 19680, 19840, 20000, 20159, 20317, 20474, 20631, 20787, 20942, 21096, 21249, 21402, 21554, 21705, 21855, 22004, 22153, 22301, 22448, 22594, 22739, 22883, 23027, 23169, 23311, 23452, 23592, 23731, 23869, 24006, 24143, 24278, 24413, 24546, 24679, 24811, 24942, 25072, 25201, 25329, 25456, 25582, 25707, 25831, 25954, 26077, 26198, 26318, 26437, 26556, 26673, 26789, 26905, 27019, 27132, 27244, 27355, 27466, 27575, 27683, 27790, 27896, 28001, 28105, 28208, 28309, 28410, 28510, 28608, 28706, 28802, 28897, 28992, 29085, 29177, 29268, 29358, 29446, 29534, 29621, 29706, 29790, 29873, 29955, 30036, 30116, 30195, 30272, 30349, 30424, 30498, 30571, 30643, 30713, 30783, 30851, 30918, 30984, 31049, 31113, 31175, 31236, 31297, 31356, 31413, 31470, 31525, 31580, 31633, 31684, 31735, 31785, 31833, 31880, 31926, 31970, 32014, 32056, 32097, 32137, 32176, 32213, 32249, 32284, 32318, 32350, 32382, 32412, 32441, 32468, 32495, 32520, 32544, 32567, 32588, 32609, 32628, 32646, 32662, 32678, 32692, 32705, 32717, 32727, 32736, 32744, 32751, 32757, 32761, 32764, 32766, 32767, 32766, 32764, 32761, 32757, 32751, 32744, 32736, 32727, 32717, 32705, 32692, 32678, 32662, 32646, 32628, 32609, 32588, 32567, 32544, 32520, 32495, 32468, 32441, 32412, 32382, 32350, 32318, 32284, 32249, 32213, 32176, 32137, 32097, 32056, 32014, 31970, 31926, 31880, 31833, 31785, 31735, 31684, 31633, 31580, 31525, 31470, 31413, 31356, 31297, 31236, 31175, 31113, 31049, 30984, 30918, 30851, 30783, 30713, 30643, 30571, 30498, 30424, 30349, 30272, 30195, 30116, 30036, 29955, 29873, 29790, 29706, 29621, 29534, 29446, 29358, 29268, 29177, 29085, 28992, 28897, 28802, 28706, 28608, 28510, 28410, 28309, 28208, 28105, 28001, 27896, 27790, 27683, 27575, 27466, 27355, 27244, 27132, 27019, 26905, 26789, 26673, 26556, 26437, 26318, 26198, 26077, 25954, 25831, 25707, 25582, 25456, 25329, 25201, 25072, 24942, 24811, 24679, 24546, 24413, 24278, 24143, 24006, 23869, 23731, 23592, 23452, 23311, 23169, 23027, 22883, 22739, 22594, 22448, 22301, 22153, 22004, 21855, 21705, 21554, 21402, 21249, 21096, 20942, 20787, 20631, 20474, 20317, 20159, 20000, 19840, 19680, 19519, 19357, 19194, 19031, 18867, 18702, 18537, 18371, 18204, 18036, 17868, 17699, 17530, 17360, 17189, 17017, 16845, 16672, 16499, 16325, 16150, 15975, 15799, 15623, 15446, 15268, 15090, 14911, 14732, 14552, 14372, 14191, 14009, 13827, 13645, 13462, 13278, 13094, 12909, 12724, 12539, 12353, 12166, 11980, 11792, 11604, 11416, 11227, 11038, 10849, 10659, 10469, 10278, 10087, 9895, 9703, 9511, 9319, 9126, 8932, 8739, 8545, 8351, 8156, 7961, 7766, 7571, 7375, 7179, 6982, 6786, 6589, 6392, 6195, 5997, 5799, 5601, 5403, 5205, 5006, 4807, 4608, 4409, 4210, 4011, 3811, 3611, 3411, 3211, 3011, 2811, 2610, 2410, 2209, 2009, 1808, 1607, 1406, 1206, 1005, 804, 603, 402, 201, 0, -201, -402, -603, -804, -1005, -1206, -1406, -1607, -1808, -2009, -2209, -2410, -2610, -2811, -3011, -3211, -3411, -3611, -3811, -4011, -4210, -4409, -4608, -4807, -5006, -5205, -5403, -5601, -5799, -5997, -6195, -6392, -6589, -6786, -6982, -7179, -7375, -7571, -7766, -7961, -8156, -8351, -8545, -8739, -8932, -9126, -9319, -9511, -9703, -9895, -10087, -10278, -10469, -10659, -10849, -11038, -11227, -11416, -11604, -11792, -11980, -12166, -12353, -12539, -12724, -12909, -13094, -13278, -13462, -13645, -13827, -14009, -14191, -14372, -14552, -14732, -14911, -15090, -15268, -15446, -15623, -15799, -15975, -16150, -16325, -16499, -16672, -16845, -17017, -17189, -17360, -17530, -17699, -17868, -18036, -18204, -18371, -18537, -18702, -18867, -19031, -19194, -19357, -19519, -19680, -19840, -20000, -20159, -20317, -20474, -20631, -20787, -20942, -21096, -21249, -21402, -21554, -21705, -21855, -22004, -22153, -22301, -22448, -22594, -22739, -22883, -23027, -23169, -23311, -23452, -23592, -23731, -23869, -24006, -24143, -24278, -24413, -24546, -24679, -24811, -24942, -25072, -25201, -25329, -25456, -25582, -25707, -25831, -25954, -26077, -26198, -26318, -26437, -26556, -26673, -26789, -26905, -27019, -27132, -27244, -27355, -27466, -27575, -27683, -27790, -27896, -28001, -28105, -28208, -28309, -28410, -28510, -28608, -28706, -28802, -28897, -28992, -29085, -29177, -29268, -29358, -29446, -29534, -29621, -29706, -29790, -29873, -29955, -30036, -30116, -30195, -30272, -30349, -30424, -30498, -30571, -30643, -30713, -30783, -30851, -30918, -30984, -31049, -31113, -31175, -31236, -31297, -31356, -31413, -31470, -31525, -31580, -31633, -31684, -31735, -31785, -31833, -31880, -31926, -31970, -32014, -32056, -32097, -32137, -32176, -32213, -32249, -32284, -32318, -32350, -32382, -32412, -32441, -32468, -32495, -32520, -32544, -32567, -32588, -32609, -32628, -32646, -32662, -32678, -32692, -32705, -32717, -32727, -32736, -32744, -32751, -32757, -32761, -32764, -32766, -32767, -32766, -32764, -32761, -32757, -32751, -32744, -32736, -32727, -32717, -32705, -32692, -32678, -32662, -32646, -32628, -32609, -32588, -32567, -32544, -32520, -32495, -32468, -32441, -32412, -32382, -32350, -32318, -32284, -32249, -32213, -32176, -32137, -32097, -32056, -32014, -31970, -31926, -31880, -31833, -31785, -31735, -31684, -31633, -31580, -31525, -31470, -31413, -31356, -31297, -31236, -31175, -31113, -31049, -30984, -30918, -30851, -30783, -30713, -30643, -30571, -30498, -30424, -30349, -30272, -30195, -30116, -30036, -29955, -29873, -29790, -29706, -29621, -29534, -29446, -29358, -29268, -29177, -29085, -28992, -28897, -28802, -28706, -28608, -28510, -28410, -28309, -28208, -28105, -28001, -27896, -27790, -27683, -27575, -27466, -27355, -27244, -27132, -27019, -26905, -26789, -26673, -26556, -26437, -26318, -26198, -26077, -25954, -25831, -25707, -25582, -25456, -25329, -25201, -25072, -24942, -24811, -24679, -24546, -24413, -24278, -24143, -24006, -23869, -23731, -23592, -23452, -23311, -23169, -23027, -22883, -22739, -22594, -22448, -22301, -22153, -22004, -21855, -21705, -21554, -21402, -21249, -21096, -20942, -20787, -20631, -20474, -20317, -20159, -20000, -19840, -19680, -19519, -19357, -19194, -19031, -18867, -18702, -18537, -18371, -18204, -18036, -17868, -17699, -17530, -17360, -17189, -17017, -16845, -16672, -16499, -16325, -16150, -15975, -15799, -15623, -15446, -15268, -15090, -14911, -14732, -14552, -14372, -14191, -14009, -13827, -13645, -13462, -13278, -13094, -12909, -12724, -12539, -12353, -12166, -11980, -11792, -11604, -11416, -11227, -11038, -10849, -10659, -10469, -10278, -10087, -9895, -9703, -9511, -9319, -9126, -8932, -8739, -8545, -8351, -8156, -7961, -7766, -7571, -7375, -7179, -6982, -6786, -6589, -6392, -6195, -5997, -5799, -5601, -5403, -5205, -5006, -4807, -4608, -4409, -4210, -4011, -3811, -3611, -3411, -3211, -3011, -2811, -2610, -2410, -2209, -2009, -1808, -1607, -1406, -1206, -1005, -804, -603, -402, -201])
        else:
            return array('h', (int(ampli*math.sin(x)) for x in frange(0,2*math.pi,2*math.pi/size)))
    else:
        # unsigned, [0,65535]
        if size == 1024 and ampli == 0x7fff:
            return array('H', [32767, 32968, 33169, 33370, 33571, 33772, 33973, 34173, 34374, 34575, 34776, 34976, 35177, 35377, 35578, 35778, 35978, 36178, 36378, 36578, 36778, 36977, 37176, 37375, 37574, 37773, 37972, 38170, 38368, 38566, 38764, 38962, 39159, 39356, 39553, 39749, 39946, 40142, 40338, 40533, 40728, 40923, 41118, 41312, 41506, 41699, 41893, 42086, 42278, 42470, 42662, 42854, 43045, 43236, 43426, 43616, 43805, 43994, 44183, 44371, 44559, 44747, 44933, 45120, 45306, 45491, 45676, 45861, 46045, 46229, 46412, 46594, 46776, 46958, 47139, 47319, 47499, 47678, 47857, 48035, 48213, 48390, 48566, 48742, 48917, 49092, 49266, 49439, 49612, 49784, 49956, 50127, 50297, 50466, 50635, 50803, 50971, 51138, 51304, 51469, 51634, 51798, 51961, 52124, 52286, 52447, 52607, 52767, 52926, 53084, 53241, 53398, 53554, 53709, 53863, 54016, 54169, 54321, 54472, 54622, 54771, 54920, 55068, 55215, 55361, 55506, 55650, 55794, 55936, 56078, 56219, 56359, 56498, 56636, 56773, 56910, 57045, 57180, 57313, 57446, 57578, 57709, 57839, 57968, 58096, 58223, 58349, 58474, 58598, 58721, 58844, 58965, 59085, 59204, 59323, 59440, 59556, 59672, 59786, 59899, 60011, 60122, 60233, 60342, 60450, 60557, 60663, 60768, 60872, 60975, 61076, 61177, 61277, 61375, 61473, 61569, 61664, 61759, 61852, 61944, 62035, 62125, 62213, 62301, 62388, 62473, 62557, 62640, 62722, 62803, 62883, 62962, 63039, 63116, 63191, 63265, 63338, 63410, 63480, 63550, 63618, 63685, 63751, 63816, 63880, 63942, 64003, 64064, 64123, 64180, 64237, 64292, 64347, 64400, 64451, 64502, 64552, 64600, 64647, 64693, 64737, 64781, 64823, 64864, 64904, 64943, 64980, 65016, 65051, 65085, 65117, 65149, 65179, 65208, 65235, 65262, 65287, 65311, 65334, 65355, 65376, 65395, 65413, 65429, 65445, 65459, 65472, 65484, 65494, 65503, 65511, 65518, 65524, 65528, 65531, 65533, 65534, 65533, 65531, 65528, 65524, 65518, 65511, 65503, 65494, 65484, 65472, 65459, 65445, 65429, 65413, 65395, 65376, 65355, 65334, 65311, 65287, 65262, 65235, 65208, 65179, 65149, 65117, 65085, 65051, 65016, 64980, 64943, 64904, 64864, 64823, 64781, 64737, 64693, 64647, 64600, 64552, 64502, 64451, 64400, 64347, 64292, 64237, 64180, 64123, 64064, 64003, 63942, 63880, 63816, 63751, 63685, 63618, 63550, 63480, 63410, 63338, 63265, 63191, 63116, 63039, 62962, 62883, 62803, 62722, 62640, 62557, 62473, 62388, 62301, 62213, 62125, 62035, 61944, 61852, 61759, 61664, 61569, 61473, 61375, 61277, 61177, 61076, 60975, 60872, 60768, 60663, 60557, 60450, 60342, 60233, 60122, 60011, 59899, 59786, 59672, 59556, 59440, 59323, 59204, 59085, 58965, 58844, 58721, 58598, 58474, 58349, 58223, 58096, 57968, 57839, 57709, 57578, 57446, 57313, 57180, 57045, 56910, 56773, 56636, 56498, 56359, 56219, 56078, 55936, 55794, 55650, 55506, 55361, 55215, 55068, 54920, 54771, 54622, 54472, 54321, 54169, 54016, 53863, 53709, 53554, 53398, 53241, 53084, 52926, 52767, 52607, 52447, 52286, 52124, 51961, 51798, 51634, 51469, 51304, 51138, 50971, 50803, 50635, 50466, 50297, 50127, 49956, 49784, 49612, 49439, 49266, 49092, 48917, 48742, 48566, 48390, 48213, 48035, 47857, 47678, 47499, 47319, 47139, 46958, 46776, 46594, 46412, 46229, 46045, 45861, 45676, 45491, 45306, 45120, 44933, 44747, 44559, 44371, 44183, 43994, 43805, 43616, 43426, 43236, 43045, 42854, 42662, 42470, 42278, 42086, 41893, 41699, 41506, 41312, 41118, 40923, 40728, 40533, 40338, 40142, 39946, 39749, 39553, 39356, 39159, 38962, 38764, 38566, 38368, 38170, 37972, 37773, 37574, 37375, 37176, 36977, 36778, 36578, 36378, 36178, 35978, 35778, 35578, 35377, 35177, 34976, 34776, 34575, 34374, 34173, 33973, 33772, 33571, 33370, 33169, 32968, 32767, 32565, 32364, 32163, 31962, 31761, 31560, 31360, 31159, 30958, 30757, 30557, 30356, 30156, 29955, 29755, 29555, 29355, 29155, 28955, 28755, 28556, 28357, 28158, 27959, 27760, 27561, 27363, 27165, 26967, 26769, 26571, 26374, 26177, 25980, 25784, 25587, 25391, 25195, 25000, 24805, 24610, 24415, 24221, 24027, 23834, 23640, 23447, 23255, 23063, 22871, 22679, 22488, 22297, 22107, 21917, 21728, 21539, 21350, 21162, 20974, 20786, 20600, 20413, 20227, 20042, 19857, 19672, 19488, 19304, 19121, 18939, 18757, 18575, 18394, 18214, 18034, 17855, 17676, 17498, 17320, 17143, 16967, 16791, 16616, 16441, 16267, 16094, 15921, 15749, 15577, 15406, 15236, 15067, 14898, 14730, 14562, 14395, 14229, 14064, 13899, 13735, 13572, 13409, 13247, 13086, 12926, 12766, 12607, 12449, 12292, 12135, 11979, 11824, 11670, 11517, 11364, 11212, 11061, 10911, 10762, 10613, 10465, 10318, 10172, 10027, 9883, 9739, 9597, 9455, 9314, 9174, 9035, 8897, 8760, 8623, 8488, 8353, 8220, 8087, 7955, 7824, 7694, 7565, 7437, 7310, 7184, 7059, 6935, 6812, 6689, 6568, 6448, 6329, 6210, 6093, 5977, 5861, 5747, 5634, 5522, 5411, 5300, 5191, 5083, 4976, 4870, 4765, 4661, 4558, 4457, 4356, 4256, 4158, 4060, 3964, 3869, 3774, 3681, 3589, 3498, 3408, 3320, 3232, 3145, 3060, 2976, 2893, 2811, 2730, 2650, 2571, 2494, 2417, 2342, 2268, 2195, 2123, 2053, 1983, 1915, 1848, 1782, 1717, 1653, 1591, 1530, 1469, 1410, 1353, 1296, 1241, 1186, 1133, 1082, 1031, 981, 933, 886, 840, 796, 752, 710, 669, 629, 590, 553, 517, 482, 448, 416, 384, 354, 325, 298, 271, 246, 222, 199, 178, 157, 138, 120, 104, 88, 74, 61, 49, 39, 30, 22, 15, 9, 5, 2, 0, 0, 0, 2, 5, 9, 15, 22, 30, 39, 49, 61, 74, 88, 104, 120, 138, 157, 178, 199, 222, 246, 271, 298, 325, 354, 384, 416, 448, 482, 517, 553, 590, 629, 669, 710, 752, 796, 840, 886, 933, 981, 1031, 1082, 1133, 1186, 1241, 1296, 1353, 1410, 1469, 1530, 1591, 1653, 1717, 1782, 1848, 1915, 1983, 2053, 2123, 2195, 2268, 2342, 2417, 2494, 2571, 2650, 2730, 2811, 2893, 2976, 3060, 3145, 3232, 3320, 3408, 3498, 3589, 3681, 3774, 3869, 3964, 4060, 4158, 4256, 4356, 4457, 4558, 4661, 4765, 4870, 4976, 5083, 5191, 5300, 5411, 5522, 5634, 5747, 5861, 5977, 6093, 6210, 6329, 6448, 6568, 6689, 6812, 6935, 7059, 7184, 7310, 7437, 7565, 7694, 7824, 7955, 8087, 8220, 8353, 8488, 8623, 8760, 8897, 9035, 9174, 9314, 9455, 9597, 9739, 9883, 10027, 10172, 10318, 10465, 10613, 10762, 10911, 11061, 11212, 11364, 11517, 11670, 11824, 11979, 12135, 12292, 12449, 12607, 12766, 12926, 13086, 13247, 13409, 13572, 13735, 13899, 14064, 14229, 14395, 14562, 14730, 14898, 15067, 15236, 15406, 15577, 15749, 15921, 16094, 16267, 16441, 16616, 16791, 16967, 17143, 17320, 17498, 17676, 17855, 18034, 18214, 18394, 18575, 18757, 18939, 19121, 19304, 19488, 19672, 19857, 20042, 20227, 20413, 20600, 20786, 20974, 21162, 21350, 21539, 21728, 21917, 22107, 22297, 22488, 22679, 22871, 23063, 23255, 23447, 23640, 23834, 24027, 24221, 24415, 24610, 24805, 25000, 25195, 25391, 25587, 25784, 25980, 26177, 26374, 26571, 26769, 26967, 27165, 27363, 27561, 27760, 27959, 28158, 28357, 28556, 28755, 28955, 29155, 29355, 29555, 29755, 29955, 30156, 30356, 30557, 30757, 30958, 31159, 31360, 31560, 31761, 31962, 32163, 32364, 32565])
        else:
            return array('H', (int(0x7fff+ampli*math.sin(x)) for x in frange(0,2*math.pi,2*math.pi/size)))
